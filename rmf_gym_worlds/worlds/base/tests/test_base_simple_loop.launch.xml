<?xml version='1.0' ?>

<launch>
  <arg name="tinyrobot_dest" default="0b"/>
  <arg name="deliveryrobot_dest" default="1b"/>
  <arg name="use_sim_time" default="1"/>

  <executable if="$(var use_sim_time)" cmd="gz physics -u 0" output="both"/>

  <!-- Tests -->
  <group unless="$(var use_sim_time)">
    <executable cmd="ros2 run rmf_gym_tools dispatch_patrol -R tinyRobot1 -p $(var tinyrobot_dest) -n 1" output="both"/>
    <executable cmd="ros2 run rmf_gym_tools dispatch_patrol -R deliveryRobot1 -p $(var deliveryrobot_dest) -n 1" output="both"/>
  </group>

  <group if="$(var use_sim_time)">
    <executable cmd="ros2 run rmf_gym_tools dispatch_patrol -R tinyRobot1 -p $(var tinyrobot_dest) -n 1 --use_sim_time" output="both"/>
    <executable cmd="ros2 run rmf_gym_tools dispatch_patrol -R deliveryRobot1 -p $(var deliveryrobot_dest) -n 1 --use_sim_time" output="both"/>
  </group>

</launch>

